########################################################################
########################################################################
# Makefile for bootstrapping
########################################################################
########################################################################
CAT=cat
ECHO=echo
MAKE=make
NODE=node
########################################################################
SRCGEN2=./../../../srcgen2
########################################################################
########################################################################
all::
########################################################################
########################################################################
clean:: ; rm -f *~
########################################################################
cleanall:: ; rm -f *~
cleanall:: ; rm -f BUILD/*_sats_out.js
cleanall:: ; rm -f BUILD/*_dats_out.js
########################################################################
########################################################################

SRCSATS := \
xdpndcy.sats \

########################################################################

SRCDATS := \
xdpndcy.dats \
xdpndcy_myenv0.dats \
xdpndcy_dynexp.dats \
xdpndcy_decl00.dats \

########################################################################
########################################################################
OBJSATS := \
$(patsubst %.sats, BUILD/JS/%_sats_out.js, $(SRCSATS))
OBJDATS := \
$(patsubst %.dats, BUILD/JS/%_dats_out.js, $(SRCDATS))
########################################################################
########################################################################
all:: all_sats
all_sats:: $(OBJSATS)
########################################################################
all:: all_dats
all_dats:: $(OBJDATS)
########################################################################
########################################################################
#
BUILD/JS/%_sats_out.js: \
./SATS/%.sats; \
$(NODE) --stack-size=4096 $(XATSOPT_TCHECK00) $< > $@
#
BUILD/JS/%_dats_out.js: \
./DATS/%.dats; \
$(NODE) --stack-size=4096 $(XATS2JS_JSEMIT00) $< > $@
#
########################################################################
########################################################################
XATSOPT_TCHECK00=\
$(SRCGEN2)/UTIL/xatsopt_tcheck00_dats.js
XATS2JS_JSEMIT00=\
$(SRCGEN2)/xats2js/srcgen1/UTIL/xats2js_jsemit00_dats.js
########################################################################
########################################################################
