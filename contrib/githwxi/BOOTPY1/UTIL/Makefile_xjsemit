########################################################################
########################################################################
# Makefile for bootstrapping
########################################################################
########################################################################
CAT=cat
ECHO=echo
NODE=node
########################################################################
BOOTPY1=./..
########################################################################
SRCGEN2=./../../../../srcgen2
XATS2PY=./../../../../srcgen2/xats2py
########################################################################
S2XSHRD=\
$(SRCGEN2)/xats2py/srcgenx/xshared/runtime
########################################################################
all:: \
xatsopt_tcheck00_dats
########################################################################
########################################################################
#
xatsopt_tcheck00_dats: ; \
$(CAT) \
$(S2XSHRD)/xats2py_py1emit.py > $@_out.py && \
$(CAT) \
$(S2XSHRD)/xats2py_prelude.py >> $@_out.py && \
$(CAT) \
$(S2XSHRD)/xats2py_xatslib.py >> $@_out.py && \
$(CAT) $(BOOTPY1)/lib/lib2xatsopt.py >> $@_out.py && \
$(NODE) --stack-size=4096 \
$(XATS2PY_PYEMIT00) $(SRCGEN2)/UTIL/xatsopt_tcheck00.dats >> $@_out.py
#
########################################################################
########################################################################
clean:: ; rm -f *~
cleanall:: ; rm -f *~
########################################################################
cleanall:: ; rm -f xatsopt_tcheck00_dats_out.py
########################################################################
########################################################################
XATSOPT_TCHECK00=$(SRCGEN2)/UTIL/xatsopt_tcheck00_dats.js
XATS2PY_PYEMIT00=$(XATS2PY)/srcgen1/UTIL/xats2py_pyemit00_dats.js
########################################################################
########################################################################
