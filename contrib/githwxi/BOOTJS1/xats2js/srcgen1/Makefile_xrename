##################################################################
##################################################################
SED=sed
##################################################################
N001="X"
N002=$(N001) $(N001)
N004=$(N002) $(N002)
N008=$(N004) $(N004)
N016=$(N008) $(N008)
N032=$(N016) $(N016)
N064=$(N032) $(N032)
N128=$(N064) $(N064)
N256=$(N128) $(N128)
N512=$(N256) $(N256)
NFILE=$(N064) $(N032) $(N004) # 100=064+032+004
##################################################################
#
SRCDATS := \
intrep0.dats \
intrep0_print0.dats \
intrep0_utils0.dats \
intrep1.dats \
intrep1_print0.dats \
intrep1_utils0.dats \
trxd3i0.dats \
trxd3i0_myenv0.dats \
trxd3i0_dynexp.dats \
trxd3i0_decl00.dats \
trxi0i1.dats \
trxi0i1_myenv0.dats \
trxi0i1_dynexp.dats \
trxi0i1_decl00.dats \
xats2js.dats \
xats2js_myenv0.dats \
xats2js_dynexp.dats \
xats2js_decl00.dats \
xats2js_tmplib.dats \
js1emit.dats \
js1emit_utils0.dats \
js1emit_dynexp.dats \
js1emit_decl00.dats \
#
##################################################################
OBJDATS = \
$(patsubst %.dats, %_dats, $(SRCDATS))
##################################################################
xrename:: $(OBJDATS)
##################################################################
%_dats: ; \
$(eval NFILE=$(NFILE) X) \
$(SED) -i -e 's/jsxtnm/jsx$(words $(NFILE))tnm/g' BUILD/$@_out.js
##################################################################
##################################################################
